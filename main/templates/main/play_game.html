<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Draft Battles Game</title>
                
    {% load static %}
    <link href="https://fonts.cdnfonts.com/css/60s-scoreboard" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'main/css/play_game.css' %}">
    
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />       <!-- Select2 CSS -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>                                             <!-- jQuery -->
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>                  <!-- Select2 JS -->
    <script src="{% static 'main/js/play_game.js' %}" defer></script>
    

</head>
<body>
    <div class="header">
		<a class="home-btn" href="{% url 'homepage' %}">
			<img class="home-img" src="{% static 'main/media/home.png' %}">
		</a>

		<button class="restart-btn" onClick="window.location.reload();">
			<img class="restart-img" src="{% static 'main/media/restart.png' %}">
		</button>
    </div>

    <div class="container">

        <!-- Team 1 Section -->
        <div class="team-section blue-team">
            <div class="scoreboard-container">
                <div class="scoreboard ui-scoreboard" id="team1_points_total">0.0</div>
            </div>
			<table>
				<tr class="header-row">
					<td class="mobile-position"></td>
					<td class="player-cell team-headers">Player</td>
					<td class="season-cell team-headers">Season</td>
					<td class="points-cell team-headers">Points</td>
					<td class="button-cell"></td>
				</tr>

				{% for pos in positions_list %}
				<tr class="player-row">
					<td class="mobile-position">{{ pos }}</td>
					<td class="player-cell"><select class="player-dropdown" id="team1_player_{{ forloop.counter }}" name="team1_player_{{ forloop.counter }}" data-pos={{pos}}></select></td>
					<td class="season-cell"><select class="season-dropdown" id="team1_year_{{ forloop.counter }}" name="team1_year_{{ forloop.counter }}"></select></td>
					<td class="points-cell"><span class="player-score" id="team1_points_{{ forloop.counter }}">0.0</span></td>
					<td class="button-cell">
						<button type="button" class="submit-button" team-id="1" data-id="{{ forloop.counter }}">Submit</button>
						<button type="button" class="remove-button" team-id="1" data-id="{{ forloop.counter }}">X</button>
					</td>
				</tr>
				{% endfor %}
			</table>
        </div>

        <!-- Positions Section -->
        <div class="positions-section">
            <div class="pos-scoreboard"></div>
			<table>
				<tr class="pos-header-row"><td class="pos-header-text"></td></tr>
				{% for position in positions_list %}
					<tr class="position-row"><td class="pos-text">{{ position }}<td></tr>
				{% endfor %}
			</table>
        </div>

        <!-- Team 2 Section -->
        <div class="team-section blue-team">
            <div class="scoreboard-container">
                <div class="scoreboard ui-scoreboard" id="team2_points_total">0.0</div>
            </div>
			<table>
				<tr class="header-row">
					<td class="mobile-position"></td>
					<td class="player-cell team-headers">Player</td>
					<td class="season-cell team-headers">Season</td>
					<td class="points-cell team-headers">Points</td>
					<td class="button-cell"></td>
				</tr>

				{% for pos in positions_list %}
				<tr class="player-row">
					<td class="mobile-position">{{ pos }}</td>
					<td class="player-cell"><select class="player-dropdown" id="team2_player_{{ forloop.counter }}" name="team2_player_{{ forloop.counter }}" data-pos={{pos}}></select></td>
					<td class="season-cell"><select class="season-dropdown" id="team2_year_{{ forloop.counter }}" name="team2_year_{{ forloop.counter }}"></select></td>
					<td class="points-cell"><span class="player-score" id="team2_points_{{ forloop.counter }}">0.0</span></td>
					<td class="button-cell">
						<button type="button" class="submit-button" team-id="2" data-id="{{ forloop.counter }}">Submit</button>
						<button type="button" class="remove-button" team-id="2" data-id="{{ forloop.counter }}">X</button>
					</td>
				</tr>
				{% endfor %}
			</table>
        </div>

    </div>
</body>
</html>